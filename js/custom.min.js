function sequence(e,t){var o=jQuery(".sequence-wrapper"),n=o.append('<div class="sequence sequence-'+e+'"><p class="sequence__content no-answer"></p></div>');s=jQuery(".sequence-"+e).find(".sequence__content").typeIt({speed:100,lifeLike:!0,cursor:!1,breakLines:!1,breakDelay:400,callback:function(){n.find(".sequence__content").removeClass("no-answer"),answer(e,t)}});for(var a=0;a<t.text.length;a++)switch(t.text[a].type){case"string":s=s.tiType(t.text[a].value);break;case"setting":s=s.tiSettings(t.text[a].value);break;case"delete":s=s.tiDelete(t.text[a].value);break;case"pause":s=s.tiPause(t.text[a].value);break;case"break":s=s.tiBreak()}}function answer(n,sc){switch(sc.answer[0].type){case"stop":console.log("stop");break;case"next":console.log("next");var j=sc.answer[0].path,n=n+1,sc=eval("scene"+j);sequence(n,sc);break;case"option":console.log("option")}}function dial(){jQuery.fn.extend({answer:function(e,t,o){var n=jQuery(this),a=n.find(".guest__content"),s=a.find(".answer-input");a.removeClass("hide").find(".answer-input").focus();var r;s.keypress(function(n){if(13==n.which){var i={};i.session=session,i[o]=s.text(),r&&r.abort(),s.attr("contentEditable","false"),a.removeClass("no-answer"),sequence(e,t),r=jQuery.ajax({url:"https://script.google.com/macros/s/AKfycbxxFsfN3Oqsvl4SLNmdVqahybsXFTobSpW8iXZfetyhGgB7z28F/exec",type:"post",data:i}),r.done(function(e,t,n){_paq.push(["trackEvent","Question","Valid",o]),console.log(session+" // "+o+" "+s.text()+" // OK")}),r.fail(function(e,t,o){console.error("Erreur: "+t,o)}),r.always(function(){console.log(" Go on!")}),n.preventDefault()}})}})}function tracking(e){var t,o={};o.session=session,o[e]="clic",t&&t.abort(),t=jQuery.ajax({url:"https://script.google.com/macros/s/AKfycbxxFsfN3Oqsvl4SLNmdVqahybsXFTobSpW8iXZfetyhGgB7z28F/exec",type:"post",data:o}),t.done(function(t,o,n){console.log(session+" // "+e+" // clic"),console.log(t),console.log(o),console.log(n)}),t.fail(function(e,t,o){console.error("Erreur: "+t,o)}),t.always(function(){console.log(" Go on!")})}function createCookie(e,t,o){if(o){var n=new Date;n.setTime(n.getTime()+24*o*60*60*1e3);var a="; expires="+n.toGMTString()}else var a="";document.cookie=e+"="+t+a+"; path=/"}function readCookie(e){for(var t=e+"=",o=document.cookie.split(";"),n=0;n<o.length;n++){for(var a=o[n];" "==a.charAt(0);)a=a.substring(1,a.length);if(0==a.indexOf(t))return a.substring(t.length,a.length)}return null}function eraseCookie(e){createCookie(e,"",-1)}function modal(){var e=jQuery("#toggle-exitModal").animatedModal({modalTarget:"exitModal",animatedIn:"",animatedOut:"bounceOut",color:"#F9E45B",beforeOpen:function(){jQuery("#wrapper").addClass("blured")},afterClose:function(){jQuery("#wrapper").removeClass("blured")}}),t=function(){e.open()};jQuery(".modal-wrapper").on("click",function(t){e.close(),t.preventDefault()}),jQuery(".modal").on("click",function(e){e.stopPropagation()});var o;jQuery(document).mousemove(function(e){var n=e.pageY,a=o-n;"undefined"!=o&&n<=5&&a>0&&t(),o=e.pageY});var n,a=12e4,s=function(){n=window.setTimeout(i,a)},r=function(e){window.clearTimeout(n),l()},i=function(){t()},l=function(){s()},c=function(){this.addEventListener("mousemove",r,!1),this.addEventListener("mousedown",r,!1),this.addEventListener("keypress",r,!1),this.addEventListener("DOMMouseScroll",r,!1),this.addEventListener("mousewheel",r,!1),this.addEventListener("touchmove",r,!1),this.addEventListener("MSPointerMove",r,!1),s()};c()}function modalFormAnimation(){var e=jQuery("#contact-form-name").val(),t=jQuery("#contact-form-contact").val(),o=function(e,t){""===e&&""===t?(jQuery("#contact-form-button").removeClass("ready"),jQuery("#contact-form-button").removeClass("half")):""===e||""===t?(jQuery("#contact-form-button").removeClass("ready"),jQuery("#contact-form-button").addClass("half")):(jQuery("#contact-form-button").addClass("ready"),jQuery("#contact-form-button").removeClass("half"))};o(e,t),jQuery("#contact-form-name, #contact-form-contact").on("change keyup paste",function(){var e=jQuery("#contact-form-name").val(),t=jQuery("#contact-form-contact").val();o(e,t)})}function modalFormPushbullet(){jQuery("#modal-form").on("submit",function(e){e.preventDefault(),jQuery(".spinner").addClass("loading"),jQuery("#result").html("");var t=jQuery(this).serialize()+"&type=note";jQuery.ajax({url:"./api/pushbullet/pushbullet.php",type:"post",data:t,dataType:"json",success:function(e){createCookie("name",e.custom.name,"30"),setTimeout(function(){jQuery(".spinner").removeClass("loading"),jQuery("#modal-form").fadeOut("500",function(){jQuery("#modal-result").typeIt({speed:80,lifeLike:!0,cursor:!1,breakLines:!1,breakDelay:400}).tiType("<span>"+e.custom.name+", à bientôt!!</span>")})},500)},error:function(e,t,o){console.log(e),console.log("Details: "+t+"\nError:"+o)}})})}function missYou(){jQuery.iMissYou({title:"Avant de partir...",favicon:{enabled:!0,src:"images/iMissYouFavicon.ico"}})}if(jQuery.noConflict(),jQuery.browser.msie){var version=jQuery.browser.version,url="ie.html";version<10&&(window.location.href=url)}var question,modalOK,formattedDate=new Date,d=formattedDate.getDate(),m=formattedDate.getMonth()+1,y=formattedDate.getFullYear(),h=formattedDate.getHours(),min=formattedDate.getMinutes(),s=formattedDate.getSeconds();date=y+""+m+d+"-"+h+min+s,sessionStorage.id=date+"-"+Math.floor(100*Math.random()+1);var session=sessionStorage.id,opt=Math.floor(3*Math.random())+1,scene1={text:[{type:"string",value:readCookie("name")?"Bonjour <i>"+readCookie("name")+"</i>":"Bonjour"}],answer:[{type:"next",path:"3"}]},scene2={text:[{type:"string",value:readCookie("name")?"<i>"+readCookie("name")+"</i>, ravi de vous revoir.":"Ravi de vous revoir."}],answer:[{type:"next",path:"3"}]},scene3={text:[{type:"string",value:"Je travaille actuellement comme <b>charger de project</b>"},{type:"setting",value:"{speed: 50}"},{type:"pause",value:"270"},{type:"delete",value:"3"},{type:"string",value:"et numérique."},{type:"pause",value:"270"},{type:"string",value:" Voici <a id='gallery-project' href='#' class='gallery'>quelques projets</a> auxquels j'ai contribué."}],answer:[{type:"next",path:"4"}]},scene4={text:[{type:"pause",value:"1070"},{type:"string",value:" "}],answer:[{type:"next",path:readCookie("visit")?"5":"6"}]};scene5={text:[{type:"string",value:"Le site est toujours en construction."}],answer:[{type:"stop"}]},scene6={text:[{type:"string",value:"C'est tout pour le moment..."},{type:"pause",value:"670"},{type:"delete",value:"3"},{type:"string",value:", le site est en construction."}],answer:[{type:"stop"}]},readCookie("visit")?sequence(1,scene2):sequence(1,scene1),jQuery(".button-option").each().click(function(){var e=jQuery(this).data("button");console.log(e),tracking(e)});var pswpElement=document.querySelectorAll(".pswp")[0],items=[{src:"./images/portfolio/tomiotee-site.jpg",w:600,h:400,msrc:"./images/portfolio/thumbnail/tomiotee-site.jpg",title:"Image Caption",author:"jbo"},{src:"./images/portfolio/tomiotee-salon.jpg",msrc:"./images/portfolio/thumbnail/tomiotee-salon.jpg",w:1200,h:900},{src:"./images/portfolio/restov-site.jpg",msrc:"./images/portfolio/thumbnail/restov-site.jpg",w:1200,h:900},{src:"./images/portfolio/ellop-logo.png",msrc:"./images/portfolio/thumbnail/ellop-logo.png",w:1200,h:900},{src:"./images/portfolio/netdevices-site.png",msrc:"./images/portfolio/thumbnail/netdevices-site.png",w:1200,h:900},{src:"./images/portfolio/itmize-site2.png",msrc:"./images/portfolio/thumbnail/itmize-site2.png",w:1200,h:900},{src:"./images/portfolio/xl-site.jpg",msrc:"./images/portfolio/thumbnail/xl-site.jpg",w:1200,h:900},{src:"./images/portfolio/mariage-site.jpg",msrc:"./images/portfolio/thumbnail/mariage-site.jpg",w:1200,h:900},{src:"./images/portfolio/mds-slogan.png",msrc:"./images/portfolio/thumbnail/mds-slogan.png",w:1200,h:900},{src:"./images/portfolio/easylife-carte-recto.jpg",msrc:"./images/portfolio/thumbnail/easylife-carte-recto.jpg",w:1200,h:900}],options={index:0,loop:!0,closeOnScroll:!1,mouseUsed:!0,preload:[1,3]},optionsUI={closeEl:!0,captionEl:!0,fullscreenEl:!0,zoomEl:!1,shareEl:!1,counterEl:!1,arrowEl:!0,preloaderEl:!0},gallery=new PhotoSwipe(pswpElement,PhotoSwipeUI_Default,items,options),openPhotoSwipe=function(){gallery.listen("close",function(){})};jQuery("#dial").on("click",".gallery",function(e){e.preventDefault(),console.log("gallery"),gallery.init()});var onready=function(){modal(),modalFormAnimation(),modalFormPushbullet(),missYou(),createCookie("visit","1","30")};jQuery(document).ready(onready);var onload=function(){};jQuery(document).load(onload);var onresize=function(){};jQuery(window).resize(onresize);